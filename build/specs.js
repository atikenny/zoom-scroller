!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(e,t){var n={},o=function(e,t){e.style.display="none",t.appendChild(e)},r=function(e){return e.outerHTML.replace("<body","<div").replace("</body","</div")},i=function(n,i,c){var a=t(i);o(a,i),e(n,c,a);var l=r(a);return a.remove(),l},c=function(e){var t='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">{{html}}</div></foreignObject></svg>';return t.replace("{{html}}",e)},a=function(e,t,n,o,r){var a=i(e,n,o),l=r([c(a)],{type:"image/svg+xml"});return t.createObjectURL(l)},l=function(e,t,o,r){var i=o.URL||o.webkitURL||o,c=n[i];if(c)return c;var l=a(e,i,t,o,r);return n[i]=l,l};return{getCachedSvgUrl:l}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c});var o=function(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},r=function(e,t,n,r,i,c,a,l){var u=t(e,a,i,c),d=n.getContext("2d");r.onload=function(){o(n),d.drawImage(r,0,0),l()},r.onerror=function(){throw new Error("Could not load image!")},r.src=u},i=function(e,t,n,o,i,c,a){return new Promise(r.bind(null,e,t,n,o,i,c,a))},c=function(e,t){var n=t.getContext("2d"),o=e.scrollTop,r=e.clientWidth,i=e.clientHeight;n.globalCompositeOperation="darken",n.fillStyle="grey",n.fillRect(0,o,r,i)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d});var o=function(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})},r=function(e,t,n,r){var i=e.createElement(n);return r&&o(i,r),t.appendChild(i),i},i=function(e){o(e,{visibility:"visible",opacity:1})},c=["background-color","color","margin","padding"],a=["script","iframe","style"],l=function(e){return a.indexOf(e.toLowerCase())!==-1},u=function(e,t,n){if(!l(n.tagName)){var o=t.getComputedStyle(n),r=c.map(function(e){var t=o.getPropertyValue(e);return e+":"+t});n.style.cssText=r.join(";"),e(n.children).forEach(u.bind(null,e,t))}},d=function(e){var t=!0;return e.cloneNode(t)}},function(e,t,n){"use strict";var o=n(0);describe("body-inliner module",function(){var e=jasmine.createSpyObj("mockParentElement",["createObjectURL","cloneNode","appendChild","remove"]),t=jasmine.createSpyObj("mockWindow",["createObjectURL"]),r=jasmine.createSpy("mockGetBlob"),i=jasmine.createSpy("mockInlineElementStyle"),c=jasmine.createSpy("mockGetElementClone"),a="mockObjectUrl",l="mockConvertNodeListToArray";e.style={},e.outerHTML="<body>notInlinedHTML</body>",e.createObjectURL.and.returnValue(a),c.and.callFake(function(e){return e}),i.and.callFake(function(e,t,n){return n.outerHTML="<body>inlinedHTML</body>",n});var u=function(){return n.i(o.a)(i,c)};describe("getCachedSvgUrl()",function(){var n='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">{{html}}</div></foreignObject></svg>',o=function(e){return n.replace("{{html}}",e)},i=function(){return u().getCachedSvgUrl(l,e,t,r)};it("should be defined",function(){expect(u().getCachedSvgUrl).toEqual(jasmine.any(Function))}),it("should call getBlob",function(){var e="<div>inlinedHTML</div>";i(),expect(r).toHaveBeenCalledWith([o(e)],{type:"image/svg+xml"})})})})},function(e,t,n){"use strict";var o=n(1);describe("canvas-helpers module",function(){var e=jasmine.createSpyObj("mockCanvas",["getContext"]),t="mockCanvasWidth",r="mockCanvasHeight",i={fillRect:jasmine.createSpy("fillRect"),drawImage:jasmine.createSpy("drawImage"),clearRect:jasmine.createSpy("clearRect")},c="mockWindow",a={},l="mockGetBlob",u="mockCachedSvgUrl",d="mockConvertNodeListToArray",s=jasmine.createSpy("mockGetCachedSvgUrl"),p=jasmine.createSpy("mockCallback"),f={scrollTop:"scrollTop",clientWidth:"clientWidth",clientHeight:"clientHeight"};s.and.returnValue(u),e.width=t,e.height=r,e.getContext.and.returnValue(i),describe("drawSvgToCanvasAsync()",function(){it("should be defined",function(){expect(o.a).toEqual(jasmine.any(Function))}),it("should return a promise",function(){expect(n.i(o.a)(d,s,e,a,c,l,f)).toEqual(jasmine.any(Promise))})}),describe("drawSvgToCanvas()",function(){var m=function(){n.i(o.b)(d,s,e,a,c,l,f,p)};it("should call getCachedSvgUrl",function(){m(),expect(s).toHaveBeenCalledWith(d,f,c,l)}),it("should set src of the image",function(){m(),expect(a.src).toEqual(u)}),it("should set onload method",function(){m(),a.onload(),expect(i.clearRect).toHaveBeenCalledWith(0,0,t,r),expect(i.drawImage).toHaveBeenCalledWith(a,0,0),expect(p).toHaveBeenCalled()}),it("should set onerror method",function(){m(),expect(a.onerror).toThrow(new Error("Could not load image!"))})}),describe("drawWhereYouAtWindow()",function(){it("should be defined",function(){expect(o.c).toEqual(jasmine.any(Function))}),it("should draw window on the provided canvas",function(){n.i(o.c)(f,e),expect(i.globalCompositeOperation).toEqual("darken"),expect(i.fillStyle).toEqual("grey"),expect(i.fillRect).toHaveBeenCalledWith(0,f.scrollTop,f.clientWidth,f.clientHeight)})})})},function(e,t,n){"use strict";var o=n(2),r={property1:"property1",property2:"property2",property3:"property3",property4:"property4"};describe("dom-helpers module",function(){describe("addStyleToElement()",function(){it("should be defined",function(){expect(o.a).toEqual(jasmine.any(Function))}),it("should add styles to an element",function(){var e={style:{}};n.i(o.a)(e,r),i(e,r)})}),describe("appendElement()",function(){it("should be defined",function(){expect(o.b).toEqual(jasmine.any(Function))}),it("should append child element after applying styles",function(){var e={appendChild:jasmine.createSpy("appendChild")},t={},r=jasmine.createSpyObj("document",["createElement"]);r.createElement.and.returnValue({style:{}});var c=n.i(o.b)(r,e,"tagName",t);expect(r.createElement).toHaveBeenCalledWith("tagName"),expect(e.appendChild).toHaveBeenCalledWith(c),i(c,t)})}),describe("fadeInElement()",function(){it("should be defined",function(){expect(o.c).toEqual(jasmine.any(Function))}),it("should add visibility and opacity styles",function(){var e={style:{}};n.i(o.c)(e),expect(e.style.visibility).toEqual("visible"),expect(e.style.opacity).toEqual(1)})}),describe("inlineElementStyles()",function(){var e=jasmine.createSpyObj("mockWindow",["getComputedStyle"]),t={tagName:"",style:{},children:[]},r={tagName:"",style:{},children:[]},i={tagName:"",style:{},children:[t,r]},c=function(e){return e},a={"background-color":"background-color",color:"color",margin:"margin",padding:"padding","dont-care":"dont-care"},l=Object.keys(a).filter(function(e){return"dont-care"!==e}).map(function(e){return e+":"+a[e]}).join(";");e.getComputedStyle.and.returnValue({getPropertyValue:function(e){return a[e]}}),it("should add cssText to element",function(){n.i(o.d)(c,e,i),expect(i.style.cssText).toEqual(l),expect(i.children[0].style.cssText).toEqual(l),expect(i.children[1].style.cssText).toEqual(l)})}),describe("getElementClone()",function(){it("should call cloneNode on element",function(){var e=jasmine.createSpyObj("mockElement",["cloneNode"]);n.i(o.e)(e),expect(e.cloneNode).toHaveBeenCalledWith(!0)})})});var i=function(e,t){Object.keys(t).forEach(function(n){expect(e.style[n]).toEqual(t[n])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3),n(4),n(5)}]);
//# sourceMappingURL=specs.js.map