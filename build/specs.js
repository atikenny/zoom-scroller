!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(e,t,n,o){var r={},a=function(e,t){e.style.display="none",t.appendChild(e)},i=function(e){return e.outerHTML.replace("<body","<div").replace("</body","</div")},c=function(n){var o=t(n);a(o,n),e(o);var r=i(o);return o.remove(),r},l=function(e){var t='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">{{html}}</div></foreignObject></svg>';return t.replace("{{html}}",e)},d=function(e,t){var o=c(t),r=n([l(o)],{type:"image/svg+xml"});return e.createObjectURL(r)},u=function(e){var t=o.URL||o.webkitURL||o,n=r[e.innerHTML];if(n)return n;var a=d(t,e);return r[e.innerHTML]=a,a};return{getCachedSvgUrl:u}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(e){var t=function(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},n=function(n,o,r,a){var i=e(),c=n(r),l=o.getContext("2d");i.onload=function(){t(o),l.drawImage(i,0,0),a()},i.onerror=function(){throw new Error("Could not load image!")},i.src=c},o=function(e,t,o){return new Promise(n.bind(null,e,t,o))},r=function(e,t){var n=t.getContext("2d"),o=e.scrollTop,r=e.clientWidth,a=e.clientHeight;n.globalCompositeOperation="darken",n.fillStyle="grey",n.fillRect(0,o,r,a)};return{drawSvgToCanvas:n,drawSvgToCanvasAsync:o,drawWhereYouAtWindow:r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=function(e,t,n){var o=function(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})},r=function(e,t,r){var a=n.createElement(t);return r&&o(a,r),e.appendChild(a),a},a=function(e){o(e,{visibility:"visible",opacity:1})},i=["background-color","color","margin","padding"],c=["script","iframe","style"],l=function(e){return c.indexOf(e.toLowerCase())!==-1},d=function(n){if(!l(n.tagName)){var o=t.getComputedStyle(n),r=i.map(function(e){var t=o.getPropertyValue(e);return e+":"+t});n.style.cssText=r.join(";"),e(n.children).forEach(d)}},u=function(e){var t=!0;return e.cloneNode(t)};return{addStyleToElement:o,appendElement:r,fadeInElement:a,inlineElementStyles:d,getElementClone:u}}},function(e,t,n){"use strict";var o=n(0);describe("body-inliner module",function(){var e=jasmine.createSpyObj("mockParentElement",["cloneNode","appendChild","remove"]),t=jasmine.createSpyObj("mockWindow",["createObjectURL"]),r=jasmine.createSpy("mockGetBlob"),a=jasmine.createSpy("mockInlineElementStyle"),i=jasmine.createSpy("mockGetElementClone"),c="mockObjectUrl",l="mockSvgBlob";e.style={},e.outerHTML="<body>notInlinedHTML</body>",e.innerHTML="notInlinedHTML",i.and.callFake(function(e){return e}),a.and.callFake(function(e){return e.outerHTML="<body>inlinedHTML</body>",e}),t.createObjectURL.and.returnValue(c),r.and.returnValue(l);var d=function(){return n.i(o.a)(a,i,r,t)};describe("getCachedSvgUrl()",function(){var n='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml">{{html}}</div></foreignObject></svg>',o=function(e){return n.replace("{{html}}",e)},i=function(){var t=d();return t.getCachedSvgUrl(e),t};it("should be defined",function(){expect(d().getCachedSvgUrl).toEqual(jasmine.any(Function))}),it("should call getBlob",function(){var e="<div>inlinedHTML</div>";i(),expect(r).toHaveBeenCalledWith([o(e)],{type:"image/svg+xml"})}),it("should call createObjectURL",function(){t.createObjectURL.calls.reset(),i(),expect(t.createObjectURL).toHaveBeenCalledWith(l)}),it("should remove clone",function(){e.remove.calls.reset(),i(),expect(e.remove).toHaveBeenCalled()}),it("should cache the result",function(){a.calls.reset();var t=i();expect(a).toHaveBeenCalled(),a.calls.reset(),t.getCachedSvgUrl(e),expect(a).not.toHaveBeenCalled()})})})},function(e,t,n){"use strict";var o=n(1);describe("canvas-helpers module",function(){var e=jasmine.createSpyObj("mockCanvas",["getContext"]),t="mockCanvasWidth",r="mockCanvasHeight",a={fillRect:jasmine.createSpy("fillRect"),drawImage:jasmine.createSpy("drawImage"),clearRect:jasmine.createSpy("clearRect")},i={},c=function(){return i},l="mockCachedSvgUrl",d=jasmine.createSpy("mockGetCachedSvgUrl"),u=jasmine.createSpy("mockCallback"),s={scrollTop:"scrollTop",clientWidth:"clientWidth",clientHeight:"clientHeight"};d.and.returnValue(l),e.width=t,e.height=r,e.getContext.and.returnValue(a);var p=function(){return n.i(o.a)(c)};describe("drawSvgToCanvasAsync()",function(){it("should be defined",function(){expect(p().drawSvgToCanvasAsync).toEqual(jasmine.any(Function))}),it("should return a promise",function(){expect(p().drawSvgToCanvasAsync(d,e,s)).toEqual(jasmine.any(Promise))})}),describe("drawSvgToCanvas()",function(){var n=function(){p().drawSvgToCanvas(d,e,s,u)};it("should call getCachedSvgUrl",function(){n(),expect(d).toHaveBeenCalledWith(s)}),it("should set src of the image",function(){n(),expect(i.src).toEqual(l)}),it("should set onload method",function(){n(),i.onload(),expect(a.clearRect).toHaveBeenCalledWith(0,0,t,r),expect(a.drawImage).toHaveBeenCalledWith(i,0,0),expect(u).toHaveBeenCalled()}),it("should set onerror method",function(){n(),expect(i.onerror).toThrow(new Error("Could not load image!"))})}),describe("drawWhereYouAtWindow()",function(){it("should be defined",function(){expect(p().drawWhereYouAtWindow).toEqual(jasmine.any(Function))}),it("should draw window on the provided canvas",function(){p().drawWhereYouAtWindow(s,e),expect(a.globalCompositeOperation).toEqual("darken"),expect(a.fillStyle).toEqual("grey"),expect(a.fillRect).toHaveBeenCalledWith(0,s.scrollTop,s.clientWidth,s.clientHeight)})})})},function(e,t,n){"use strict";var o=n(2),r={property1:"property1",property2:"property2",property3:"property3",property4:"property4"},a={"background-color":"background-color",color:"color",margin:"margin",padding:"padding","dont-care":"dont-care"};describe("dom-helpers module",function(){var e=function(e){return e},t=jasmine.createSpyObj("mockWindow",["getComputedStyle"]),c=jasmine.createSpyObj("document",["createElement"]);t.getComputedStyle.and.returnValue({getPropertyValue:function(e){return a[e]}}),c.createElement.and.returnValue({style:{}});var l=function(){return n.i(o.a)(e,t,c)};describe("addStyleToElement()",function(){it("should be defined",function(){expect(l().addStyleToElement).toEqual(jasmine.any(Function))}),it("should add styles to an element",function(){var e={style:{}};l().addStyleToElement(e,r),i(e,r)})}),describe("appendElement()",function(){it("should be defined",function(){expect(l().appendElement).toEqual(jasmine.any(Function))}),it("should append child element after applying styles",function(){var e={appendChild:jasmine.createSpy("appendChild")},t={},n=l().appendElement(e,"tagName",t);expect(c.createElement).toHaveBeenCalledWith("tagName"),expect(e.appendChild).toHaveBeenCalledWith(n),i(n,t)})}),describe("fadeInElement()",function(){it("should be defined",function(){expect(l().fadeInElement).toEqual(jasmine.any(Function))}),it("should add visibility and opacity styles",function(){var e={style:{}};l().fadeInElement(e),expect(e.style.visibility).toEqual("visible"),expect(e.style.opacity).toEqual(1)})}),describe("inlineElementStyles()",function(){var e={tagName:"",style:{},children:[]},t={tagName:"",style:{},children:[]},n={tagName:"",style:{},children:[e,t]},o=Object.keys(a).filter(function(e){return"dont-care"!==e}).map(function(e){return e+":"+a[e]}).join(";");it("should add cssText to element",function(){l().inlineElementStyles(n),expect(n.style.cssText).toEqual(o),expect(n.children[0].style.cssText).toEqual(o),expect(n.children[1].style.cssText).toEqual(o)})}),describe("getElementClone()",function(){it("should call cloneNode on element",function(){var e=jasmine.createSpyObj("mockElement",["cloneNode"]);l().getElementClone(e),expect(e.cloneNode).toHaveBeenCalledWith(!0)})})});var i=function(e,t){Object.keys(t).forEach(function(n){expect(e.style[n]).toEqual(t[n])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3),n(4),n(5)}]);
//# sourceMappingURL=specs.js.map